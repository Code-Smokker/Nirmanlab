<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | ImpactSeed</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="Styles.css">
    <link rel="stylesheet" href="UserProfile.css">
</head>

<body>

    <nav class="header">
        <a href="index.html" class="logo-wrapper">
            <img src="public/img/logo.png" alt="ImpactSeed" class="logo"
                style="height: 32px; width: auto; margin-right: 8px;">
            <span>ImpactSeed</span>
        </a>
        <div class="nav-links">
            <a href="index.html" class="nav-link">Home</a>
            <a href="ExploreCampaign.html" class="nav-link">Explore</a>
            <a href="StartCampaign.html" class="nav-link">Start Campaign</a>
        </div>
        <div class="user-menu">
            <button onclick="logout()" class="nav-link"
                style="background:none; border:none; cursor:pointer; color: var(--text-muted); font-weight:500;">Logout</button>
            <div class="notification-badge"><i class="bi bi-bell"></i></div>
            <div class="avatar-small" id="navAvatar">--</div>
        </div>
    </nav>

    <header class="profile-hero">
        <div class="banner"></div>
        <div class="profile-container">
            <div class="profile-header-content">
                <div class="profile-info">
                    <div class="avatar-large">
                        <img src="default-avatar.png" id="userAvatar" alt="User Profile">
                    </div>
                    <div class="user-details">
                        <h1 id="userName">Loading Name...</h1>
                        <p id="userBio">Loading bio...</p>
                        <p class="location-text"><i class="bi bi-geo-alt"></i> <span id="userLocation">Global</span></p>
                    </div>
                </div>
                <button class="edit-btn" onclick="toggleEditModal()"><i class="bi bi-pencil"></i> Edit Profile</button>
            </div>

            <div class="profile-tabs">
                <div class="tab active" data-tab="overview">Overview</div>
                <div class="tab" data-tab="campaigns">My Campaigns</div>
                <div class="tab" data-tab="settings">Settings</div>
            </div>
        </div>
    </header>

    <main class="dashboard-content">
        <section class="stats-grid">
            <div class="stat-card">
                <h3>Total Donated</h3>
                <div class="value" id="statDonated">$0</div>
            </div>
            <div class="stat-card">
                <h3>Impact Score</h3>
                <div class="value" id="statImpact">0</div>
            </div>
            <div class="stat-card">
                <h3>Campaigns</h3>
                <div class="value" id="statCount">0</div>
            </div>
        </section>

        <section id="tabContent">
            <h2 class="section-title">Your Active Campaigns</h2>
            <div class="campaigns-grid" id="campaignContainer">
                <div class="loading-spinner">Searching for your campaigns...</div>
            </div>
        </section>
    </main>

    <script src="UserProfile.js"></script>

    <!-- Edit Profile Modal -->
    <div id="editModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Profile</h3>
                <button class="close-btn" onclick="toggleEditModal()"><i class="bi bi-x-lg"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="editName" placeholder="Enter full name">
                </div>
                <div class="form-group">
                    <label>Job Title / Bio Header</label>
                    <input type="text" id="editTitle" placeholder="e.g. Social Entrepreneur">
                </div>
                <div class="form-group">
                    <label>Bio Description</label>
                    <textarea id="editBio" rows="4" placeholder="Tell us about yourself"></textarea>
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" id="editLocation" placeholder="City, Country">
                </div>
                <div class="form-group">
                    <label>Profile Picture</label>
                    <input type="file" id="editAvatarFile" accept="image/*" style="padding: 10px;">
                    <small style="color: var(--text-muted); display: block; margin-top: 5px;">Recommended: Square
                        JPG/PNG, max 2MB</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="toggleEditModal()">Cancel</button>
                <button class="btn-save" onclick="saveProfileChanges()">Save Changes</button>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <a href="index.html" class="logo-wrapper" style="margin-bottom: 1.25rem;">
                    <img src="public/img/logo.png" alt="ImpactSeed" class="logo">
                    <span class="logo-text">ImpactSeed</span>
                </a>
                <p>Empowering ideas that change the world. Join us in making a difference.</p>
            </div>

            <div class="footer-column">
                <h5>Platform</h5>
                <ul>
                    <li><a href="ExploreCampanig.html">Explore</a></li>
                    <li><a href="StartCampaign.html">Start Campaign</a></li>
                    <li><a href="#">How it Works</a></li>
                    <li><a href="#">Pricing</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h5>Community</h5>
                <ul>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Guidelines</a></li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h5>Stay Connected</h5>
                <p style="margin-bottom:1rem;">Join our newsletter for updates.</p>
                <div class="social-links">
                    <a href="#" class="social-link"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="social-link"><i class="bi bi-twitter-x"></i></a>
                    <a href="#" class="social-link"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="social-link"><i class="bi bi-linkedin"></i></a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>Â© 2026 ImpactSeed. All rights reserved.</p>
            <div style="display:flex; gap:1.5rem;">
                <a href="#" style="color:#64748b; text-decoration:none; font-size:0.85rem;">Privacy Policy</a>
                <a href="#" style="color:#64748b; text-decoration:none; font-size:0.85rem;">Terms of Service</a>
            </div>
        </div>
    </footer>
</body>

</html>